import{f as o}from"./-kFzf9UA.js";const u=o("auth",{state:()=>({isAuthenticated:!1,user:null,username:"user",signature:"这个人很懒，什么都没有留下",email:"未绑定邮箱",times:10,avatar:"avatar.png"}),actions:{login(t){this.isAuthenticated=!0,this.user=t,localStorage.setItem("auth",JSON.stringify({isAuthenticated:this.isAuthenticated,user:this.user}))},logout(){this.isAuthenticated=!1,this.user=null,localStorage.removeItem("auth"),localStorage.removeItem("authAva"),localStorage.removeItem("authSign"),localStorage.removeItem("authTimes"),localStorage.removeItem("authEmail")},updateAvatar(t){this.avatar=t,this.saveAuthData(),this.restoreState()},updateSignature(t){this.signature=t,this.saveSignData(),this.restoreState()},updateEmail(t){this.email=t,this.saveEmailData(),this.restoreState()},updateTimes(t){this.times+=t,this.saveTimesData(),this.restoreState()},saveTimesData(){const t=JSON.stringify({times:this.times});localStorage.setItem("authTimes",t)},saveEmailData(){const t=JSON.stringify({email:this.email});localStorage.setItem("authEmail",t)},saveSignData(){const t=JSON.stringify({signature:this.signature});localStorage.setItem("authSign",t)},saveAuthData(){const t=JSON.stringify({avatar:this.avatar});localStorage.setItem("authAva",t)},restoreState(){const t=localStorage.getItem("auth"),e=localStorage.getItem("authAva"),s=localStorage.getItem("authSign"),i=localStorage.getItem("authEmail"),r=localStorage.getItem("authTimes");if(t){const a=JSON.parse(t);this.isAuthenticated=a.isAuthenticated,this.user=a.user}if(e){const a=JSON.parse(e);this.avatar=a.avatar}if(s){const a=JSON.parse(s);this.signature=a.signature}if(i){const a=JSON.parse(i);this.email=a.email}if(r){const a=JSON.parse(r);this.times=a.times}}}});export{u};
